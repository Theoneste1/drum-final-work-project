<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset='utf-8'>
        <title>drum practice</title>
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>
        <div class="keys">
            
<!--Key A and the components-->
        <div class="key"  data-key='65'>
            <kbd>A</kbd>
            <span class="sound">clap</span>
            </div>
            
            <!--Key s and the components-->
        <div class="key"  data-key='83'>
            <kbd>s</kbd>
            <span class="sound">hihat</span>
            </div>
            <!--Key d and the components-->
        <div class="key" data-key='68'>
            <kbd>d</kbd>
            <span class="sound">kick</span>
            </div>
<!--            key f and the componets-->
            <div class="key" data-key='70'>
                <kbd>f</kbd>
            <span class='sound'>openhat</span>   
            </div>
            
<!--            key g and the component-->
            <div class="key" data-key='71'>
             <kbd>g</kbd>
                <span class='sound'>boom</span>
            </div>
            
<!--            key h and the components-->
            <div class="key" data-key='72'>
            <kbd>h</kbd>
                <span class='sound'>ride</span>
            </div>
<!--                j key and the component-->
                <div class="key" data-key='74'>
                <kbd>j</kbd>
                    <span class='sound'>snare</span>
                </div>
            
<!--            k key and component-->
            <div class="key" data-key='75'>
            <kbd>k</kbd>
                <span class='sound'>tom</span>
            </div>
            
<!--            L key and the component-->
            <div class="key" data-key='76'>
            <kbd>l</kbd>
                <span class='sound'>tink</span>
            </div>
        </div>
        
        
<!--        assigning the sounds to the keys-->
        <audio src="sounds/clap.wav" data-key='65'></audio>
        <audio src="sounds/hihat.wav" data-key='83'></audio>
        <audio src="sounds/kick.wav" data-key='68'></audio>
        
        <audio src="sounds/openhat.wav" data-key='70'></audio>
        <audio src="sounds/boom.wav" data-key='71'></audio>
        <audio src="sounds/ride.wav" data-key='72'></audio>
        <audio src="sounds/snare.wav" data-key='74'></audio>
        <audio src="sounds/tom.wav" data-key='75'></audio>
        <audio src="sounds/tink.wav" data-key='76'></audio>
        
<!--        adding of javascript-->
        <script>
         window.addEventListener('keydown',playSound);
            
            function playSound(e)
            {
               const keyPressed=document.querySelector(`.key[data-key="${e.keyCode}"]`);
                
//                console.log(e.keyCode);
                
                // the looking for the sounds of the key
                
                const soundPlayed=document.querySelector(`audio[data-key="${e.keyCode}"]`);
                
//                console.log(soundPlayed);
                if(!soundPlayed)
                    return; // do nothing if no sound for keyPressed.
                soundPlayed.play();
                keyPressed.classList.add("playing");  
                soundPlayed.currentTime=0;                      
            }
            
            //removing transition
            const keys=document.querySelectorAll('.key');
//            console.log(keys)
            
            keys.forEach(key=>key.addEventListener(`transitionend`, removeTransition));
            
            function removeTransition(e){
                //This is just one of the property name
//            
                if(e.propertyName=="background-color") 
//                    console.log(this);
                    //then I want to remove this class
                    this.classList.remove("playing");
                    
                    
            }
            
        </script>
        
    </body>
</html>